// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 2 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet  restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Projects\Personal\PerformanceTips\bin\Release\net6.0\56d08f6d-0795-4b1a-847c-308b4ae759b8
// command took 1.72s and exited with 0
// start dotnet  build -c Release --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Projects\Personal\PerformanceTips\bin\Release\net6.0\56d08f6d-0795-4b1a-847c-308b4ae759b8
// command took 4.41s and exited with 0
// ***** Done, took 00:00:06 (6.23 sec)   *****
// Found 2 benchmarks:
//   CollectionReturnComparison.WithYieldReturn: DefaultJob
//   CollectionReturnComparison.WithAddValues: DefaultJob

Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: CollectionReturnComparison.WithYieldReturn: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 56d08f6d-0795-4b1a-847c-308b4ae759b8.dll --benchmarkName PerformanceTips.Benchmarks.CollectionReturnComparison.WithYieldReturn --job Default --benchmarkId 0 in C:\Projects\Personal\PerformanceTips\bin\Release\net6.0\56d08f6d-0795-4b1a-847c-308b4ae759b8\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 339300.00 ns, 339.3000 us/op
WorkloadJitting  1: 1 op, 769500.00 ns, 769.5000 us/op

OverheadJitting  2: 16 op, 1177400.00 ns, 73.5875 us/op
WorkloadJitting  2: 16 op, 1249000.00 ns, 78.0625 us/op

WorkloadPilot    1: 16 op, 5000.00 ns, 312.5000 ns/op
WorkloadPilot    2: 32 op, 5000.00 ns, 156.2500 ns/op
WorkloadPilot    3: 64 op, 35900.00 ns, 560.9375 ns/op
WorkloadPilot    4: 128 op, 11000.00 ns, 85.9375 ns/op
WorkloadPilot    5: 256 op, 17200.00 ns, 67.1875 ns/op
WorkloadPilot    6: 512 op, 62600.00 ns, 122.2656 ns/op
WorkloadPilot    7: 1024 op, 64100.00 ns, 62.5977 ns/op
WorkloadPilot    8: 2048 op, 114600.00 ns, 55.9570 ns/op
WorkloadPilot    9: 4096 op, 238300.00 ns, 58.1787 ns/op
WorkloadPilot   10: 8192 op, 475300.00 ns, 58.0200 ns/op
WorkloadPilot   11: 16384 op, 2153700.00 ns, 131.4514 ns/op
WorkloadPilot   12: 32768 op, 3266900.00 ns, 99.6979 ns/op
WorkloadPilot   13: 65536 op, 4227300.00 ns, 64.5035 ns/op
WorkloadPilot   14: 131072 op, 10359000.00 ns, 79.0329 ns/op
WorkloadPilot   15: 262144 op, 16684500.00 ns, 63.6463 ns/op
WorkloadPilot   16: 524288 op, 31696200.00 ns, 60.4557 ns/op
WorkloadPilot   17: 1048576 op, 55581100.00 ns, 53.0063 ns/op
WorkloadPilot   18: 2097152 op, 82134200.00 ns, 39.1646 ns/op
WorkloadPilot   19: 4194304 op, 159816400.00 ns, 38.1032 ns/op
WorkloadPilot   20: 8388608 op, 276454000.00 ns, 32.9559 ns/op
WorkloadPilot   21: 16777216 op, 446526300.00 ns, 26.6150 ns/op
WorkloadPilot   22: 33554432 op, 769310800.00 ns, 22.9272 ns/op

OverheadWarmup   1: 33554432 op, 169635900.00 ns, 5.0555 ns/op
OverheadWarmup   2: 33554432 op, 178037700.00 ns, 5.3059 ns/op
OverheadWarmup   3: 33554432 op, 157580300.00 ns, 4.6963 ns/op
OverheadWarmup   4: 33554432 op, 156107800.00 ns, 4.6524 ns/op
OverheadWarmup   5: 33554432 op, 146420300.00 ns, 4.3637 ns/op
OverheadWarmup   6: 33554432 op, 146625500.00 ns, 4.3698 ns/op
OverheadWarmup   7: 33554432 op, 152826300.00 ns, 4.5546 ns/op
OverheadWarmup   8: 33554432 op, 158038300.00 ns, 4.7099 ns/op
OverheadWarmup   9: 33554432 op, 170843000.00 ns, 5.0915 ns/op
OverheadWarmup  10: 33554432 op, 149129400.00 ns, 4.4444 ns/op

OverheadActual   1: 33554432 op, 146616600.00 ns, 4.3695 ns/op
OverheadActual   2: 33554432 op, 148779400.00 ns, 4.4340 ns/op
OverheadActual   3: 33554432 op, 156199000.00 ns, 4.6551 ns/op
OverheadActual   4: 33554432 op, 148251000.00 ns, 4.4182 ns/op
OverheadActual   5: 33554432 op, 158284300.00 ns, 4.7172 ns/op
OverheadActual   6: 33554432 op, 164343300.00 ns, 4.8978 ns/op
OverheadActual   7: 33554432 op, 157093700.00 ns, 4.6818 ns/op
OverheadActual   8: 33554432 op, 162482800.00 ns, 4.8424 ns/op
OverheadActual   9: 33554432 op, 172886700.00 ns, 5.1524 ns/op
OverheadActual  10: 33554432 op, 151100700.00 ns, 4.5032 ns/op
OverheadActual  11: 33554432 op, 163490500.00 ns, 4.8724 ns/op
OverheadActual  12: 33554432 op, 162395700.00 ns, 4.8398 ns/op
OverheadActual  13: 33554432 op, 169420800.00 ns, 5.0491 ns/op
OverheadActual  14: 33554432 op, 175727800.00 ns, 5.2371 ns/op
OverheadActual  15: 33554432 op, 170420700.00 ns, 5.0789 ns/op
OverheadActual  16: 33554432 op, 157449400.00 ns, 4.6924 ns/op
OverheadActual  17: 33554432 op, 153080200.00 ns, 4.5621 ns/op
OverheadActual  18: 33554432 op, 159094600.00 ns, 4.7414 ns/op
OverheadActual  19: 33554432 op, 153849300.00 ns, 4.5851 ns/op

WorkloadWarmup   1: 33554432 op, 805803500.00 ns, 24.0148 ns/op
WorkloadWarmup   2: 33554432 op, 972880600.00 ns, 28.9941 ns/op
WorkloadWarmup   3: 33554432 op, 864815300.00 ns, 25.7735 ns/op
WorkloadWarmup   4: 33554432 op, 887144900.00 ns, 26.4390 ns/op
WorkloadWarmup   5: 33554432 op, 745820300.00 ns, 22.2272 ns/op
WorkloadWarmup   6: 33554432 op, 774506800.00 ns, 23.0821 ns/op

// BeforeActualRun
WorkloadActual   1: 33554432 op, 748815800.00 ns, 22.3164 ns/op
WorkloadActual   2: 33554432 op, 741402600.00 ns, 22.0955 ns/op
WorkloadActual   3: 33554432 op, 741349200.00 ns, 22.0939 ns/op
WorkloadActual   4: 33554432 op, 742171400.00 ns, 22.1184 ns/op
WorkloadActual   5: 33554432 op, 748337100.00 ns, 22.3022 ns/op
WorkloadActual   6: 33554432 op, 736963600.00 ns, 21.9632 ns/op
WorkloadActual   7: 33554432 op, 735755200.00 ns, 21.9272 ns/op
WorkloadActual   8: 33554432 op, 739864300.00 ns, 22.0497 ns/op
WorkloadActual   9: 33554432 op, 751061600.00 ns, 22.3834 ns/op
WorkloadActual  10: 33554432 op, 733429700.00 ns, 21.8579 ns/op
WorkloadActual  11: 33554432 op, 744834700.00 ns, 22.1978 ns/op
WorkloadActual  12: 33554432 op, 735685600.00 ns, 21.9251 ns/op
WorkloadActual  13: 33554432 op, 740817400.00 ns, 22.0781 ns/op
WorkloadActual  14: 33554432 op, 744987100.00 ns, 22.2023 ns/op
WorkloadActual  15: 33554432 op, 732942300.00 ns, 21.8434 ns/op

// AfterActualRun
WorkloadResult   1: 33554432 op, 590531500.00 ns, 17.5992 ns/op
WorkloadResult   2: 33554432 op, 583118300.00 ns, 17.3783 ns/op
WorkloadResult   3: 33554432 op, 583064900.00 ns, 17.3767 ns/op
WorkloadResult   4: 33554432 op, 583887100.00 ns, 17.4012 ns/op
WorkloadResult   5: 33554432 op, 590052800.00 ns, 17.5849 ns/op
WorkloadResult   6: 33554432 op, 578679300.00 ns, 17.2460 ns/op
WorkloadResult   7: 33554432 op, 577470900.00 ns, 17.2100 ns/op
WorkloadResult   8: 33554432 op, 581580000.00 ns, 17.3324 ns/op
WorkloadResult   9: 33554432 op, 592777300.00 ns, 17.6661 ns/op
WorkloadResult  10: 33554432 op, 575145400.00 ns, 17.1407 ns/op
WorkloadResult  11: 33554432 op, 586550400.00 ns, 17.4806 ns/op
WorkloadResult  12: 33554432 op, 577401300.00 ns, 17.2079 ns/op
WorkloadResult  13: 33554432 op, 582533100.00 ns, 17.3608 ns/op
WorkloadResult  14: 33554432 op, 586702800.00 ns, 17.4851 ns/op
WorkloadResult  15: 33554432 op, 574658000.00 ns, 17.1261 ns/op
GC:  1369 0 0 4294968088 33554432
Threading:  0 0 33554432

// AfterAll
// Benchmark Process 11508 has exited with code 0.

Mean = 17.373 ns, StdErr = 0.043 ns (0.25%), N = 15, StdDev = 0.168 ns
Min = 17.126 ns, Q1 = 17.228 ns, Median = 17.377 ns, Q3 = 17.483 ns, Max = 17.666 ns
IQR = 0.255 ns, LowerFence = 16.846 ns, UpperFence = 17.865 ns
ConfidenceInterval = [17.194 ns; 17.552 ns] (CI 99.9%), Margin = 0.179 ns (1.03% of Mean)
Skewness = 0.15, Kurtosis = 1.74, MValue = 2

// ** Remained 1 (50.0%) benchmark(s) to run. Estimated finish 2022-09-07 23:17 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: CollectionReturnComparison.WithAddValues: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet 56d08f6d-0795-4b1a-847c-308b4ae759b8.dll --benchmarkName PerformanceTips.Benchmarks.CollectionReturnComparison.WithAddValues --job Default --benchmarkId 1 in C:\Projects\Personal\PerformanceTips\bin\Release\net6.0\56d08f6d-0795-4b1a-847c-308b4ae759b8\bin\Release\net6.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 325000.00 ns, 325.0000 us/op
WorkloadJitting  1: 1 op, 1071800.00 ns, 1.0718 ms/op

OverheadJitting  2: 16 op, 1243900.00 ns, 77.7438 us/op
WorkloadJitting  2: 16 op, 1324800.00 ns, 82.8000 us/op

WorkloadPilot    1: 16 op, 32600.00 ns, 2.0375 us/op
WorkloadPilot    2: 32 op, 94600.00 ns, 2.9562 us/op
WorkloadPilot    3: 64 op, 164800.00 ns, 2.5750 us/op
WorkloadPilot    4: 128 op, 276300.00 ns, 2.1586 us/op
WorkloadPilot    5: 256 op, 705500.00 ns, 2.7559 us/op
WorkloadPilot    6: 512 op, 2702600.00 ns, 5.2785 us/op
WorkloadPilot    7: 1024 op, 3535200.00 ns, 3.4523 us/op
WorkloadPilot    8: 2048 op, 6246000.00 ns, 3.0498 us/op
WorkloadPilot    9: 4096 op, 8870500.00 ns, 2.1656 us/op
WorkloadPilot   10: 8192 op, 16683700.00 ns, 2.0366 us/op
WorkloadPilot   11: 16384 op, 30744500.00 ns, 1.8765 us/op
WorkloadPilot   12: 32768 op, 54849000.00 ns, 1.6739 us/op
WorkloadPilot   13: 65536 op, 107900100.00 ns, 1.6464 us/op
WorkloadPilot   14: 131072 op, 189497000.00 ns, 1.4457 us/op
WorkloadPilot   15: 262144 op, 358397100.00 ns, 1.3672 us/op
WorkloadPilot   16: 524288 op, 691795300.00 ns, 1.3195 us/op

OverheadWarmup   1: 524288 op, 2533800.00 ns, 4.8328 ns/op
OverheadWarmup   2: 524288 op, 3035400.00 ns, 5.7896 ns/op
OverheadWarmup   3: 524288 op, 2836300.00 ns, 5.4098 ns/op
OverheadWarmup   4: 524288 op, 3203500.00 ns, 6.1102 ns/op
OverheadWarmup   5: 524288 op, 2976800.00 ns, 5.6778 ns/op

OverheadActual   1: 524288 op, 2656500.00 ns, 5.0669 ns/op
OverheadActual   2: 524288 op, 2970800.00 ns, 5.6664 ns/op
OverheadActual   3: 524288 op, 2660700.00 ns, 5.0749 ns/op
OverheadActual   4: 524288 op, 2657200.00 ns, 5.0682 ns/op
OverheadActual   5: 524288 op, 2642700.00 ns, 5.0406 ns/op
OverheadActual   6: 524288 op, 3484400.00 ns, 6.6460 ns/op
OverheadActual   7: 524288 op, 2990600.00 ns, 5.7041 ns/op
OverheadActual   8: 524288 op, 3026700.00 ns, 5.7730 ns/op
OverheadActual   9: 524288 op, 2974300.00 ns, 5.6730 ns/op
OverheadActual  10: 524288 op, 3015500.00 ns, 5.7516 ns/op
OverheadActual  11: 524288 op, 3093700.00 ns, 5.9008 ns/op
OverheadActual  12: 524288 op, 2977900.00 ns, 5.6799 ns/op
OverheadActual  13: 524288 op, 3313500.00 ns, 6.3200 ns/op
OverheadActual  14: 524288 op, 2953000.00 ns, 5.6324 ns/op
OverheadActual  15: 524288 op, 2901000.00 ns, 5.5332 ns/op
OverheadActual  16: 524288 op, 3116500.00 ns, 5.9443 ns/op
OverheadActual  17: 524288 op, 3179800.00 ns, 6.0650 ns/op
OverheadActual  18: 524288 op, 3079500.00 ns, 5.8737 ns/op
OverheadActual  19: 524288 op, 3296900.00 ns, 6.2883 ns/op
OverheadActual  20: 524288 op, 2803600.00 ns, 5.3474 ns/op

WorkloadWarmup   1: 524288 op, 722825700.00 ns, 1.3787 us/op
WorkloadWarmup   2: 524288 op, 707365500.00 ns, 1.3492 us/op
WorkloadWarmup   3: 524288 op, 695514700.00 ns, 1.3266 us/op
WorkloadWarmup   4: 524288 op, 691790900.00 ns, 1.3195 us/op
WorkloadWarmup   5: 524288 op, 691746400.00 ns, 1.3194 us/op
WorkloadWarmup   6: 524288 op, 692029000.00 ns, 1.3199 us/op
WorkloadWarmup   7: 524288 op, 693515000.00 ns, 1.3228 us/op
WorkloadWarmup   8: 524288 op, 688254500.00 ns, 1.3127 us/op
WorkloadWarmup   9: 524288 op, 695579500.00 ns, 1.3267 us/op
WorkloadWarmup  10: 524288 op, 690648500.00 ns, 1.3173 us/op

// BeforeActualRun
WorkloadActual   1: 524288 op, 696160200.00 ns, 1.3278 us/op
WorkloadActual   2: 524288 op, 692893000.00 ns, 1.3216 us/op
WorkloadActual   3: 524288 op, 692089500.00 ns, 1.3201 us/op
WorkloadActual   4: 524288 op, 688258600.00 ns, 1.3127 us/op
WorkloadActual   5: 524288 op, 689057900.00 ns, 1.3143 us/op
WorkloadActual   6: 524288 op, 690075600.00 ns, 1.3162 us/op
WorkloadActual   7: 524288 op, 690648300.00 ns, 1.3173 us/op
WorkloadActual   8: 524288 op, 695688200.00 ns, 1.3269 us/op
WorkloadActual   9: 524288 op, 695555900.00 ns, 1.3267 us/op
WorkloadActual  10: 524288 op, 700105000.00 ns, 1.3353 us/op
WorkloadActual  11: 524288 op, 688568300.00 ns, 1.3133 us/op
WorkloadActual  12: 524288 op, 688403900.00 ns, 1.3130 us/op
WorkloadActual  13: 524288 op, 692438900.00 ns, 1.3207 us/op
WorkloadActual  14: 524288 op, 694310000.00 ns, 1.3243 us/op
WorkloadActual  15: 524288 op, 688395500.00 ns, 1.3130 us/op

// AfterActualRun
WorkloadResult   1: 524288 op, 693175950.00 ns, 1.3221 us/op
WorkloadResult   2: 524288 op, 689908750.00 ns, 1.3159 us/op
WorkloadResult   3: 524288 op, 689105250.00 ns, 1.3144 us/op
WorkloadResult   4: 524288 op, 685274350.00 ns, 1.3071 us/op
WorkloadResult   5: 524288 op, 686073650.00 ns, 1.3086 us/op
WorkloadResult   6: 524288 op, 687091350.00 ns, 1.3105 us/op
WorkloadResult   7: 524288 op, 687664050.00 ns, 1.3116 us/op
WorkloadResult   8: 524288 op, 692703950.00 ns, 1.3212 us/op
WorkloadResult   9: 524288 op, 692571650.00 ns, 1.3210 us/op
WorkloadResult  10: 524288 op, 697120750.00 ns, 1.3297 us/op
WorkloadResult  11: 524288 op, 685584050.00 ns, 1.3076 us/op
WorkloadResult  12: 524288 op, 685419650.00 ns, 1.3073 us/op
WorkloadResult  13: 524288 op, 689454650.00 ns, 1.3150 us/op
WorkloadResult  14: 524288 op, 691325750.00 ns, 1.3186 us/op
WorkloadResult  15: 524288 op, 685411250.00 ns, 1.3073 us/op
GC:  910 0 0 2856321552 524288
Threading:  0 0 524288

// AfterAll
// Benchmark Process 16008 has exited with code 0.

Mean = 1.315 μs, StdErr = 0.002 μs (0.13%), N = 15, StdDev = 0.007 μs
Min = 1.307 μs, Q1 = 1.308 μs, Median = 1.314 μs, Q3 = 1.320 μs, Max = 1.330 μs
IQR = 0.012 μs, LowerFence = 1.291 μs, UpperFence = 1.337 μs
ConfidenceInterval = [1.307 μs; 1.322 μs] (CI 99.9%), Margin = 0.007 μs (0.56% of Mean)
Skewness = 0.57, Kurtosis = 2.17, MValue = 2

// ** Remained 0 (0.0%) benchmark(s) to run. Estimated finish 2022-09-07 23:17 (0h 0m from now) **
Successfully reverted power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\PerformanceTips.Benchmarks.CollectionReturnComparison-report.csv
  BenchmarkDotNet.Artifacts\results\PerformanceTips.Benchmarks.CollectionReturnComparison-report-github.md
  BenchmarkDotNet.Artifacts\results\PerformanceTips.Benchmarks.CollectionReturnComparison-report.html

// * Detailed results *
CollectionReturnComparison.WithYieldReturn: DefaultJob
Runtime = .NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2; GC = Concurrent Workstation
Mean = 17.373 ns, StdErr = 0.043 ns (0.25%), N = 15, StdDev = 0.168 ns
Min = 17.126 ns, Q1 = 17.228 ns, Median = 17.377 ns, Q3 = 17.483 ns, Max = 17.666 ns
IQR = 0.255 ns, LowerFence = 16.846 ns, UpperFence = 17.865 ns
ConfidenceInterval = [17.194 ns; 17.552 ns] (CI 99.9%), Margin = 0.179 ns (1.03% of Mean)
Skewness = 0.15, Kurtosis = 1.74, MValue = 2
-------------------- Histogram --------------------
[17.037 ns ; 17.755 ns) | @@@@@@@@@@@@@@@
---------------------------------------------------

CollectionReturnComparison.WithAddValues: DefaultJob
Runtime = .NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2; GC = Concurrent Workstation
Mean = 1.315 μs, StdErr = 0.002 μs (0.13%), N = 15, StdDev = 0.007 μs
Min = 1.307 μs, Q1 = 1.308 μs, Median = 1.314 μs, Q3 = 1.320 μs, Max = 1.330 μs
IQR = 0.012 μs, LowerFence = 1.291 μs, UpperFence = 1.337 μs
ConfidenceInterval = [1.307 μs; 1.322 μs] (CI 99.9%), Margin = 0.007 μs (0.56% of Mean)
Skewness = 0.57, Kurtosis = 2.17, MValue = 2
-------------------- Histogram --------------------
[1.303 μs ; 1.333 μs) | @@@@@@@@@@@@@@@
---------------------------------------------------

// * Summary *

BenchmarkDotNet=v0.13.2, OS=Windows 10 (10.0.19043.1889/21H1/May2021Update)
Intel Core i7-6700HQ CPU 2.60GHz (Skylake), 1 CPU, 8 logical and 4 physical cores
.NET SDK=6.0.100
  [Host]     : .NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2
  DefaultJob : .NET 6.0.0 (6.0.21.52210), X64 RyuJIT AVX2


|          Method |        Mean |    Error |   StdDev | Rank |   Gen0 | Allocated |
|---------------- |------------:|---------:|---------:|-----:|-------:|----------:|
| WithYieldReturn |    17.37 ns | 0.179 ns | 0.168 ns |    1 | 0.0408 |     128 B |
|   WithAddValues | 1,314.53 ns | 7.332 ns | 6.858 ns |    2 | 1.7357 |    5448 B |

// * Legends *
  Mean      : Arithmetic mean of all measurements
  Error     : Half of 99.9% confidence interval
  StdDev    : Standard deviation of all measurements
  Rank      : Relative position of current benchmark mean among all benchmarks (Arabic style)
  Gen0      : GC Generation 0 collects per 1000 operations
  Allocated : Allocated memory per single operation (managed only, inclusive, 1KB = 1024B)
  1 ns      : 1 Nanosecond (0.000000001 sec)

// * Diagnostic Output - MemoryDiagnoser *


// ***** BenchmarkRunner: End *****
Run time: 00:00:45 (45.1 sec), executed benchmarks: 2

Global total time: 00:00:51 (51.89 sec), executed benchmarks: 2
// * Artifacts cleanup *
